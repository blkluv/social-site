{"version":3,"sources":["webpack:///./src/views/Post.vue","webpack:///./src/views/Post.vue?3223","webpack:///./src/views/Post.vue?ab76","webpack:///./src/views/Post.vue?37c1"],"names":["class","for","style","userData","bgColor","invertedHex","isOwnProfile","type","name","editMode","id","contentCard","title","field","value","postUid","href","userUid","src","photoURL","displayName","shortBio","description","showPostLink","onDelete","components","ContentCard","EditableTextInput","props","String","setup","currentUser","uid","postRef","doc","userRef","Promise","all","get","postDoc","userDoc","exists","console","log","router","replace","postData","data","reactiveData","onSnapshot","confirm","delete","render"],"mappings":"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","file":"js/Post.2a72be27.js","sourcesContent":["<template>\n    <div class=\"container p-3\" v-bind:style=\"`background-color: ${userData.bgColor}; color: ${invertedHex};`\">\n\n        <div class=\"row align-items-center p-2\" v-if=\"isOwnProfile\">\n          <h4><i class=\"fa fa-pencil mr-1\"></i></h4>\n          <label for=\"editPostModeCheckbox\" class=\"el-switch\"><input type=\"checkbox\" name=\"switch\" v-model=\"editMode\" id=\"editPostModeCheckbox\">\n            <span class=\"el-switch-style\"></span>\n          </label>  \n        </div>\n\n        <div v-if=\"editMode || contentCard.title\" style=\"margin: 15px;\">\n            <h1><EditableTextInput :field=\"'title'\" :value=\"contentCard.title\" :editMode=\"editMode\" :postUid=\"postUid\" class=\"post-title hidden-sm center\" /></h1>\n        </div>\n\n        <hr v-bind:style=\"`background-color: ${invertedHex};`\" class=\"mb-5 mt-3\" />\n\n        <div class=\"row\">\n\n            <div class=\"col-sm-4\"> \n                <a class=\"row\" :href=\"`/#/u/${userUid}`\" v-bind:style=\"`color: ${invertedHex}; text-decoration: none;`\">\n                    <div class=\"col-3 post-profile-img\">\n                        <img :src=\"userData.photoURL\" v-bind:style=\"`border: solid 2px; ${invertedHex};`\" />\n                    </div>\n                    <div class=\"pl-1 col-9\">\n                        <h4>{{userData.displayName}}</h4>\n                        <h5>{{userData.shortBio}}</h5>\n                    </div>\n                </a>\n                \n                <div class=\"mt-4 text-justify\">\n                    <EditableTextInput :field=\"'description'\" :value=\"contentCard.description\" :editMode=\"editMode\" :postUid=\"postUid\" class=\"justify\" />\n                </div>\n            </div>\n            <div class=\"col-sm-8\">\n                <ContentCard :contentCard=\"contentCard\" :editMode=\"editMode\" :userUid=\"userUid\" :postUid=\"postUid\" :showPostLink=\"false\" :onDelete=\"onDelete\" />\n            </div>\n\n        </div>\n    </div>\n</template>\n\n<script lang=\"ts\">\nimport { auth, profilesCollection, getTimelineCollection } from '@/firebase.config'\nimport router from '@/router'\nimport { reactive, toRefs, computed } from 'vue'\nimport ContentCard from '@/components/shared/ContentCard'\nimport EditableTextInput from '@/components/shared/EditableTextInput'\nimport { UserProfile } from '../types/UserProfile'\nimport { invertHex } from '@/utils/utils'\n\nexport default {\n    components: {\n        ContentCard,\n        EditableTextInput\n    },\n    props: {\n        userUid: String,\n        postUid: String,\n    },\n    async setup (props) {\n        const isOwnProfile = auth?.currentUser?.uid === props.userUid\n        \n        const postRef = getTimelineCollection(props.userUid).doc(props.postUid)\n        const userRef = profilesCollection.doc(props.userUid)\n\n        const [postDoc, userDoc] = await Promise.all([ postRef.get(), userRef.get() ])\n        if (!postDoc?.exists || !userDoc?.exists) {\n            console.log('Post or user not found, TODO 404')\n            router.replace('/404')\n            return\n        }\n        const postData: BaseContentCard = postDoc.data() as BaseContentCard\n        const userData: UserProfile = userDoc.data() as UserProfile\n        const reactiveData = reactive({\n            isOwnProfile,\n            contentCard: postData,\n            userData,\n            editMode: false\n        })\n        //Keep updating card template for own user profile\n        if (isOwnProfile) {\n            postRef.onSnapshot(async (postDoc) => {\n                reactiveData.contentCard = postDoc.data() as BaseContentCard\n            })\n        }\n\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\n        const invertedHex = computed(() => invertHex(userData.bgColor))\n        \n        const onDelete = () => {\n            if (!confirm('⚠️ Are you sure?')) {\n                return\n            }\n            postRef.delete()\n            router.replace('/')\n        }\n\n        return {\n            ...toRefs(reactiveData),\n            invertedHex,\n            onDelete\n        }\n    }\n}\n</script>\n\n<style lang=\"css\">\n/* Custom CSS here */\n\n.post-content {\n    min-height: 500px;\n    max-height: 900px;\n    object-fit: contain;\n}\n\n.post-profile-img img{\n  object-fit: cover;\n  border-radius: 50%;\n  height: 60px;\n  width: 60px;\n}\n</style>\n","\nimport { auth, profilesCollection, getTimelineCollection } from '@/firebase.config'\nimport router from '@/router'\nimport { reactive, toRefs, computed } from 'vue'\nimport ContentCard from '@/components/shared/ContentCard'\nimport EditableTextInput from '@/components/shared/EditableTextInput'\nimport { UserProfile } from '../types/UserProfile'\nimport { invertHex } from '@/utils/utils'\n\nexport default {\n    components: {\n        ContentCard,\n        EditableTextInput\n    },\n    props: {\n        userUid: String,\n        postUid: String,\n    },\n    async setup (props) {\n        const isOwnProfile = auth?.currentUser?.uid === props.userUid\n        \n        const postRef = getTimelineCollection(props.userUid).doc(props.postUid)\n        const userRef = profilesCollection.doc(props.userUid)\n\n        const [postDoc, userDoc] = await Promise.all([ postRef.get(), userRef.get() ])\n        if (!postDoc?.exists || !userDoc?.exists) {\n            console.log('Post or user not found, TODO 404')\n            router.replace('/404')\n            return\n        }\n        const postData: BaseContentCard = postDoc.data() as BaseContentCard\n        const userData: UserProfile = userDoc.data() as UserProfile\n        const reactiveData = reactive({\n            isOwnProfile,\n            contentCard: postData,\n            userData,\n            editMode: false\n        })\n        //Keep updating card template for own user profile\n        if (isOwnProfile) {\n            postRef.onSnapshot(async (postDoc) => {\n                reactiveData.contentCard = postDoc.data() as BaseContentCard\n            })\n        }\n\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\n        const invertedHex = computed(() => invertHex(userData.bgColor))\n        \n        const onDelete = () => {\n            if (!confirm('⚠️ Are you sure?')) {\n                return\n            }\n            postRef.delete()\n            router.replace('/')\n        }\n\n        return {\n            ...toRefs(reactiveData),\n            invertedHex,\n            onDelete\n        }\n    }\n}\n","import { render } from \"./Post.vue?vue&type=template&id=4da9dba4\"\nimport script from \"./Post.vue?vue&type=script&lang=ts\"\nexport * from \"./Post.vue?vue&type=script&lang=ts\"\n\nimport \"./Post.vue?vue&type=style&index=0&lang=css\"\nscript.render = render\n\nexport default script","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/dist/index.js??ref--0-1!./Post.vue?vue&type=style&index=0&lang=css\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/dist/index.js??ref--0-1!./Post.vue?vue&type=style&index=0&lang=css\""],"sourceRoot":""}