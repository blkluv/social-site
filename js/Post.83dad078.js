(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Post"],{"37d3":function(e,t,c){"use strict";c.r(t);c("a4d3"),c("e01a"),c("99af");var n=c("5c40"),o=c("830f"),r={key:0,class:"row align-items-center p-2"},i=Object(n["l"])("h4",null,[Object(n["l"])("i",{class:"fa fa-pencil mr-1"})],-1),a={for:"editPostModeCheckbox",class:"el-switch"},l=Object(n["l"])("span",{class:"el-switch-style"},null,-1),s={key:0,style:{margin:"15px"}},d={class:"row"},u={class:"col-sm-4"},b={class:"col-3 post-profile-img"},p={class:"pl-1 col-9"},O={class:"mt-4 text-justify"},j={class:"col-sm-8"};function f(e,t){var c=Object(n["A"])("EditableTextInput"),f=Object(n["A"])("ContentCard");return Object(n["u"])(),Object(n["g"])("div",{class:"container p-3",style:"background-color: ".concat(e.userData.bgColor,"; color: ").concat(e.invertedHex,";")},[e.isOwnProfile?(Object(n["u"])(),Object(n["g"])("div",r,[i,Object(n["l"])("label",a,[Object(n["H"])(Object(n["l"])("input",{type:"checkbox",name:"switch","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.editMode=t}),id:"editPostModeCheckbox"},null,512),[[o["b"],e.editMode]]),l])])):Object(n["h"])("",!0),e.editMode||e.contentCard.title?(Object(n["u"])(),Object(n["g"])("div",s,[Object(n["l"])("h1",null,[Object(n["l"])(c,{field:"title",value:e.contentCard.title,editMode:e.editMode,postUid:e.postUid,class:"post-title hidden-sm center"},null,8,["value","editMode","postUid"])])])):Object(n["h"])("",!0),Object(n["l"])("hr",{style:"background-color: ".concat(e.invertedHex,";"),class:"mb-5 mt-3"},null,4),Object(n["l"])("div",d,[Object(n["l"])("div",u,[Object(n["l"])("a",{class:"row",href:"/#/u/".concat(e.userUid),style:"color: ".concat(e.invertedHex,"; text-decoration: none;")},[Object(n["l"])("div",b,[Object(n["l"])("img",{src:e.userData.photoURL,style:"border: solid 2px; ".concat(e.invertedHex,";")},null,12,["src"])]),Object(n["l"])("div",p,[Object(n["l"])("h4",null,Object(n["D"])(e.userData.displayName),1),Object(n["l"])("h5",null,Object(n["D"])(e.userData.shortBio),1)])],12,["href"]),Object(n["l"])("div",O,[Object(n["l"])(c,{field:"description",value:e.contentCard.description,editMode:e.editMode,postUid:e.postUid,class:"justify"},null,8,["value","editMode","postUid"])])]),Object(n["l"])("div",j,[Object(n["l"])(f,{contentCard:e.contentCard,editMode:e.editMode,userUid:e.userUid,postUid:e.postUid,showPostLink:!1,onDelete:e.onDelete},null,8,["contentCard","editMode","userUid","postUid","onDelete"])])])],4)}c("d3b7"),c("ac1f"),c("3ca3"),c("5319"),c("ddb0");var v=c("5530"),h=c("3835"),m=(c("96cf"),c("1da1")),g=c("526b"),U=c("afbc"),w=c("a1e9"),x=c("2a05"),C=c("d574"),M=c("73ec"),y={components:{ContentCard:x["a"],EditableTextInput:C["a"]},props:{userUid:String,postUid:String},setup:function(e){return Object(m["a"])(regeneratorRuntime.mark((function t(){var c,o,r,i,a,l,s,d,u,b,p,O,j;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=(null===g["a"]||void 0===g["a"]||null===(c=g["a"].currentUser)||void 0===c?void 0:c.uid)===e.userUid,r=Object(g["b"])(e.userUid).doc(e.postUid),i=g["c"].doc(e.userUid),t.next=5,Promise.all([r.get(),i.get()]);case 5:if(a=t.sent,l=Object(h["a"])(a,2),s=l[0],d=l[1],(null===s||void 0===s?void 0:s.exists)&&(null===d||void 0===d?void 0:d.exists)){t.next=13;break}return console.log("Post or user not found, TODO 404"),U["a"].replace("/404"),t.abrupt("return");case 13:return u=s.data(),b=d.data(),o&&r.onSnapshot(function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log(Object(v["a"])({},t.data())),O.contentCard=t.data();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p=Object(n["f"])((function(){return Object(M["c"])(b.bgColor)})),O=Object(w["g"])({isOwnProfile:o,contentCard:u,userData:b,editMode:!1}),j=function(){confirm("⚠️ Are you sure?")&&(r.delete(),U["a"].replace("/"))},t.abrupt("return",Object(v["a"])(Object(v["a"])({},Object(w["n"])(O)),{},{invertedHex:p,onDelete:j}));case 20:case"end":return t.stop()}}),t)})))()}};c("d4ec");y.render=f;t["default"]=y},"49a2":function(e,t,c){},d4ec:function(e,t,c){"use strict";c("49a2")}}]);
//# sourceMappingURL=Post.83dad078.js.map