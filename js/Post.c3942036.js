(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Post"],{"37d3":function(e,t,c){"use strict";c.r(t);c("a4d3"),c("e01a"),c("99af");var n=c("5c40"),o=c("830f"),r={key:0,class:"row align-items-center p-2"},i=Object(n["l"])("h4",null,[Object(n["l"])("i",{class:"fa fa-pencil mr-1"})],-1),a={for:"editPostModeCheckbox",class:"el-switch"},l=Object(n["l"])("span",{class:"el-switch-style"},null,-1),d={key:0,style:{margin:"15px"}},s={class:"row"},u={class:"col-sm-4"},b={class:"col-3 post-profile-img"},p={class:"pl-1 col-9"},O={class:"col-3 post-profile-img"},j={class:"pl-1 col-9"},v={class:"mt-4 text-justify"},f={class:"col-sm-8"};function m(e,t){var c=Object(n["A"])("EditableTextInput"),m=Object(n["A"])("ContentCard");return Object(n["u"])(),Object(n["g"])("div",{class:"container p-3",style:"background-color: ".concat(e.userData.bgColor,"; color: ").concat(e.invertedHex,";")},[e.isOwnProfile?(Object(n["u"])(),Object(n["g"])("div",r,[i,Object(n["l"])("label",a,[Object(n["H"])(Object(n["l"])("input",{type:"checkbox",name:"switch","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.editMode=t}),id:"editPostModeCheckbox"},null,512),[[o["b"],e.editMode]]),l])])):Object(n["h"])("",!0),e.editMode||e.contentCard.title?(Object(n["u"])(),Object(n["g"])("div",d,[Object(n["l"])("h1",null,[Object(n["l"])(c,{field:"title",value:e.contentCard.title,editMode:e.editMode,postUid:e.postUid,class:"post-title hidden-sm center"},null,8,["value","editMode","postUid"])])])):Object(n["h"])("",!0),Object(n["l"])("hr",{style:"background-color: ".concat(e.invertedHex,";"),class:"mb-5 mt-3"},null,4),Object(n["l"])("div",s,[Object(n["l"])("div",u,[Object(n["H"])(Object(n["l"])("a",{class:"row",href:"/#/u/".concat(e.userUid),style:"color: ".concat(e.invertedHex,"; text-decoration: none;")},[Object(n["l"])("div",b,[Object(n["l"])("img",{src:e.userData.photoURL,style:"border: solid 2px; ".concat(e.invertedHex,";")},null,12,["src"])]),Object(n["l"])("div",p,[Object(n["l"])("h4",null,Object(n["D"])(e.userData.displayName),1)])],12,["href"]),[[o["d"],!e.editMode]]),Object(n["H"])(Object(n["l"])("div",{class:"row",style:"color: ".concat(e.invertedHex,";")},[Object(n["l"])("div",O,[Object(n["l"])("img",{src:e.userData.photoURL,style:"border: solid 2px; ".concat(e.invertedHex,";")},null,12,["src"])]),Object(n["l"])("div",j,[Object(n["l"])("h4",null,Object(n["D"])(e.userData.displayName),1)])],4),[[o["d"],e.editMode]]),Object(n["l"])("div",v,[Object(n["l"])(c,{field:"description",value:e.contentCard.description,editMode:e.editMode,postUid:e.postUid,class:"justify"},null,8,["value","editMode","postUid"])])]),Object(n["l"])("div",f,[Object(n["l"])(m,{contentCard:e.contentCard,editMode:e.editMode,userUid:e.userUid,postUid:e.postUid,isCardPreview:!1,onDelete:e.onDelete},null,8,["contentCard","editMode","userUid","postUid","onDelete"])])])],4)}c("d3b7"),c("ac1f"),c("3ca3"),c("5319"),c("ddb0");var h=c("5530"),x=c("3835"),g=(c("96cf"),c("1da1")),U=c("526b"),w=c("afbc"),y=c("a1e9"),C=c("2a05"),M=c("d574"),k=c("73ec"),D={components:{ContentCard:C["a"],EditableTextInput:M["a"]},props:{userUid:String,postUid:String},setup:function(e){return Object(g["a"])(regeneratorRuntime.mark((function t(){var c,o,r,i,a,l,d,s,u,b,p,O,j;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=(null===U["a"]||void 0===U["a"]||null===(c=U["a"].currentUser)||void 0===c?void 0:c.uid)===e.userUid,r=Object(U["b"])(e.userUid).doc(e.postUid),i=U["c"].doc(e.userUid),t.next=5,Promise.all([r.get(),i.get()]);case 5:if(a=t.sent,l=Object(x["a"])(a,2),d=l[0],s=l[1],(null===d||void 0===d?void 0:d.exists)&&(null===s||void 0===s?void 0:s.exists)){t.next=13;break}return console.log("Post or user not found, TODO 404"),w["a"].replace("/404"),t.abrupt("return");case 13:return u=d.data(),b=s.data(),p=Object(y["g"])({isOwnProfile:o,contentCard:u,userData:b,editMode:!1}),o&&r.onSnapshot(function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){var c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(c=t.data(),c){e.next=3;break}return e.abrupt("return");case 3:p.contentCard=t.data();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),O=Object(n["f"])((function(){return Object(k["c"])(b.bgColor)})),j=function(){confirm("⚠️ Are you sure?")&&(r.delete(),w["a"].replace("/"))},t.abrupt("return",Object(h["a"])(Object(h["a"])({},Object(y["n"])(p)),{},{invertedHex:O,onDelete:j}));case 20:case"end":return t.stop()}}),t)})))()}};c("d4ec");D.render=m;t["default"]=D},"49a2":function(e,t,c){},d4ec:function(e,t,c){"use strict";c("49a2")}}]);
//# sourceMappingURL=Post.c3942036.js.map