(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Post~Profile"],{1063:function(e,t,r){"use strict";r("498a"),r("96cf");var n=r("1da1"),a=r("526b"),o=r("73cd"),i=Object(o["a"])({animation:"appear",theme:"default",dismiss:2e3}),c=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r,n,o){var c,s,u,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!o||n.trim()!==o.trim()){e.next=3;break}return console.log("card field unchanged",{field:r}),e.abrupt("return");case 3:if(c=a["a"].currentUser,s=c||{},u=s.uid,u){e.next=7;break}return e.abrupt("return");case 7:return d=Object(a["b"])(u).doc(t),e.next=10,d.update(r,n.trim());case 10:i.success("Content updated ✔️");case 11:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}();t["a"]=c},1258:function(e,t){},"2a05":function(e,t,r){"use strict";r("99af");var n=r("5c40"),a={key:0,class:"card-header p-0 m-0 bg-secondary text-center"},o=Object(n["l"])("i",{class:"fa fa-external-link text-white mx-2 mx-sm-3"},null,-1),i={key:0,class:"card-footer p-0 m-0 bg-secondary text-right"},c=Object(n["l"])("i",{class:"fa fa-external-link text-white mr-1"},null,-1);function s(e,t){return Object(n["u"])(),Object(n["g"])("div",{class:"".concat(e.isCardPreview?"card col-6 col-sm-3 m-0 p-0":"card col-12 m-0 p-0"," ").concat(e.editMode||e.showPublicOptions?"":"border-0")},[e.editMode?(Object(n["u"])(),Object(n["g"])("div",a,[Object(n["l"])("i",{class:"fa fa-trash text-white mx-2 mx-sm-3",style:{cursor:"pointer"},onClick:t[1]||(t[1]=function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return e.onDelete.apply(e,[t].concat(n))})}),e.hasMorePreviews?(Object(n["u"])(),Object(n["g"])("i",{key:0,class:"fa fa-refresh text-white mx-2 mx-sm-3",style:{cursor:"pointer"},onClick:t[2]||(t[2]=function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return e.changePreview.apply(e,[t].concat(n))})})):Object(n["h"])("",!0),e.isCardPreview?(Object(n["u"])(),Object(n["g"])("a",{key:0,href:e.postUrl,target:"_blank",class:"text-reset"},[o],8,["href"])):Object(n["h"])("",!0)])):Object(n["h"])("",!0),"iframe"===e.contentCard.type?(Object(n["u"])(),Object(n["g"])("iframe",{key:0,class:e.isCardPreview?"card-content":"post-content",src:e.contentCard.iFrameUrl,allowtransparency:"true",frameborder:"0",allow:"accelerometer; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},null,10,["src"])):Object(n["h"])("",!0),"image"===e.contentCard.type?(Object(n["u"])(),Object(n["g"])("img",{key:0,class:e.isCardPreview?"card-content":"post-content",src:e.contentCard.previewImage,style:{cursor:"pointer"},onClick:t[3]||(t[3]=function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return e.toPost.apply(e,[t].concat(n))})},null,10,["src"])):Object(n["h"])("",!0),"video"===e.contentCard.type?(Object(n["u"])(),Object(n["g"])("video",{key:0,class:e.isCardPreview?"card-content":"post-content",src:e.contentCard.previewVideo,controls:""},null,10,["src"])):Object(n["h"])("",!0),e.showPublicOptions?(Object(n["u"])(),Object(n["g"])("div",i,[e.isCardPreview?(Object(n["u"])(),Object(n["g"])("a",{key:0,href:e.postUrl,target:"_blank",class:"text-reset"},[c],8,["href"])):Object(n["h"])("",!0)])):Object(n["h"])("",!0)],2)}r("d81d"),r("d3b7"),r("ac1f"),r("3ca3"),r("5319"),r("ddb0"),r("96cf");var u=r("1da1"),d=r("6b75");function l(e){if(Array.isArray(e))return Object(d["a"])(e)}r("a4d3"),r("e01a"),r("d28b"),r("a630");function f(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}var p=r("06c5");function m(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e){return l(e)||f(e)||Object(p["a"])(e)||m()}var v=r("a1e9"),g=r("aa25"),j=r("1063"),w=r("afbc"),y={props:{editMode:Boolean,userUid:String,postUid:String,contentCard:g["BaseContentCard"],onDelete:Function,isCardPreview:{type:Boolean,default:!0},showPublicOptions:{type:Boolean,default:!1}},setup:function(e){var t,r,n=[].concat(b((null===(t=e.contentCard.rawImages)||void 0===t?void 0:t.map((function(e){return{type:"image",previewImage:e}})))||[]),b((null===(r=e.contentCard.rawVideos)||void 0===r?void 0:r.map((function(e){return{type:"video",previewVideo:e}})))||[]));e.contentCard.iFrameUrl&&n.push({type:"iframe"});var a=0,o=Object(v["h"])(n.length>1),i=function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(){var r,o,i,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a+=1,a>n.length-1&&(a=0),r=n[a],o=r.type,i=r.previewImage,c=r.previewVideo,t.next=5,Promise.all([Object(j["a"])(e.postUid,"type",o),Object(j["a"])(e.postUid,"image"===o?"previewImage":"previewVideo","image"===o?i:c,"image"===o?e.previewImage:e.previewVideo)]);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c="/#/u/".concat(e.userUid,"/p/").concat(e.postUid),s=function(){return w["a"].replace("/u/".concat(e.userUid,"/p/").concat(e.postUid))};return{changePreview:i,hasMorePreviews:o,postUrl:c,toPost:s}}};r("99b5");y.render=s;t["a"]=y},"498a":function(e,t,r){"use strict";var n=r("23e7"),a=r("58a8").trim,o=r("c8d2");n({target:"String",proto:!0,forced:o("trim")},{trim:function(){return a(this)}})},"4de4":function(e,t,r){"use strict";var n=r("23e7"),a=r("b727").filter,o=r("1dde"),i=r("ae40"),c=o("filter"),s=i("filter");n({target:"Array",proto:!0,forced:!c||!s},{filter:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},5530:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));r("a4d3"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("159b");function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},"5d71":function(e,t,r){},"73cd":function(e,t,r){"use strict";r.d(t,"a",(function(){return P}));var n="0.5.1";const a=void 0,o=e=>e===a,i=e=>"string"===typeof e,c=e=>"[object Object]"===Object.prototype.toString.call(e),s=e=>"function"===typeof e,u="default_ajmey_toaster",d=(e=u)=>{const t=Array.from(document.getElementsByTagName("style"));return t.filter(t=>t.dataset.styleName===e)},l=()=>{const e=d();for(const t of e)t.parentNode.removeChild(t)},f={SUCCESS:"success",FAILURE:"failure",INFO:"info",WARNING:"warning"},p={[f.SUCCESS]:"Success!",[f.FAILURE]:"Oops...",[f.INFO]:"Note!",[f.WARNING]:"Warning!"};let m;const b=1500,v=(e,t="ajmtoaster")=>{if(!e)throw new Error("Need to pass options object.");const r=new window.DocumentFragment,n=document.createElement("div"),{theme:a,animation:o,type:i,title:c,message:s}=e;n.classList.add(t),n.classList.add("theme-"+a),n.classList.add("js-ajmtoaster"),n.classList.add("--animation-"+o);const u=`\n  <div class="ajmtoaster__inner --${i} theme-${a}">\n    <p class="ajmtoaster__title theme-${a}">${c}</p>\n    <p class="ajmtoaster__message theme-${a} ${s?"with-message":""}">${s}</p>\n    <button class="js-ajmtoaster__dismiss ajmtoaster__dismiss theme-${a}">&times;</button>\n  </div>\n  `;return{wrapper:n,toasterTemplate:u,fragment:r}},g=(e,t,r)=>(e.insertAdjacentHTML("afterbegin",r),t.appendChild(e),document.body.appendChild(t),e),j=(e,t,r,n)=>{m&&window.clearTimeout(m),w(),l(),r.injectFn&&r.injectFn(r.theme),i(t)||(t="");const a=r.title?String(r.title):p[e],{wrapper:c,fragment:u,toasterTemplate:d}=v({...r,type:e,title:a,message:t});g(c,u,d);const j=Array.from(document.querySelectorAll(".js-ajmtoaster__dismiss"));for(const o of j)o.addEventListener("click",()=>w(n));return e===f.SUCCESS?(o(r.dismiss)||!Number.isInteger(r.dismiss)&&!1!==r.dismiss)&&(r.dismiss=b):r.dismiss=Number.isInteger(r.dismiss)?r.dismiss:!0===r.dismiss&&b,r.dismiss&&(m=window.setTimeout(()=>w(n),r.dismiss)),s(n.beforeLoad)&&n.beforeLoad(),new Promise(e=>{window.setTimeout(()=>{c.classList.add("--active"),s(n.loaded)&&n.loaded(),e(c)},200)})},w=e=>{const t=Array.from(document.getElementsByClassName("js-ajmtoaster"));let r=t.length;const n=Array.from(document.querySelectorAll(".js-ajmtoaster__dismiss"));if(n.length)for(const i of n)i.removeEventListener("click",w);for(const i of t)i.classList.remove("--active");const a=t.map(e=>Number.parseFloat(window.getComputedStyle(e).getPropertyValue("--ajmt-duration"))),o=window.Math.max(...a);return e&&s(e.beforeClear)&&e.beforeClear(),new Promise(n=>{window.setTimeout(()=>{for(const e of t)e.parentNode&&e.parentNode.removeChild(e);n(r),e&&s(e.cleared)&&e.cleared()},o+100)})};function y(e={},t){if(t&&(!s(t)||!t.ajmStyleInjector))throw new Error("Provided css injector function is not valid.");const r={theme:"default",animation:"appear"};this.config={...r,...e,injectFn:t},t&&(l(),t(this.config.theme))}y.version=n,y.type=Symbol("#toaster"),y.titles=p,Object.assign(y,f),y.prototype.events={};const h=y.prototype.events;function O(e){return function(t="",r={}){return c(t)&&(r=t),j(e,t,{...this.config,...r},h)}}function C(){return w(y.prototype.events)}function x(e,t){this.events[e]=t}const P=(e,t)=>new y(e,t);Object.assign(y.prototype,{[y.type]:y.type,version:y.version,success:O(y.SUCCESS),failure:O(y.FAILURE),info:O(y.INFO),warning:O(y.WARNING),clear:C,on:x}),Object.freeze(y.prototype)},"99b5":function(e,t,r){"use strict";r("5d71")},aa25:function(e,t){},b64b:function(e,t,r){var n=r("23e7"),a=r("7b0b"),o=r("df75"),i=r("d039"),c=i((function(){o(1)}));n({target:"Object",stat:!0,forced:c},{keys:function(e){return o(a(e))}})},b7cb:function(e,t,r){"use strict";r("99af"),r("d3b7"),r("3ca3"),r("ddb0"),r("96cf");var n=r("1da1"),a=r("526b"),o=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var n,o,i,c,s,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o=a["a"].currentUser,i=o||{},c=i.uid,c){e.next=4;break}return e.abrupt("return",!1);case 4:if(confirm("⚠️ Are you sure?")){e.next=6;break}return e.abrupt("return",!1);case 6:if(s=Object(a["b"])(c),r){e.next=11;break}return e.next=10,s.doc(t).delete();case 10:return e.abrupt("return",!0);case 11:return u=a["d"].child("".concat(null===a["a"]||void 0===a["a"]||null===(n=a["a"].currentUser)||void 0===n?void 0:n.uid,"/").concat(r)),e.next=14,Promise.all([u.delete(),s.doc(t).delete()]);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();t["a"]=o},c8d2:function(e,t,r){var n=r("d039"),a=r("5899"),o="​᠎";e.exports=function(e){return n((function(){return!!a[e]()||o[e]()!=o||a[e].name!==e}))}},d574:function(e,t,r){"use strict";r("99af");var n=r("5c40");function a(e,t){return Object(n["u"])(),Object(n["g"])("p",{style:[{margin:"5px"},"border: ".concat(e.editMode?"dotted; black;":"none;"," border-width: ").concat(e.editMode?"1px;":"none;")],contenteditable:e.editMode,onBlur:t[1]||(t[1]=function(t){var r=t.target.textContent;e.updateFn(r)})},Object(n["D"])(e.value),45,["contenteditable"])}var o=r("5530"),i=r("a1e9"),c=r("1258"),s=r("d7e0"),u=r("1063"),d={name:"EditableTextInput",props:{field:c["EditableFirestoreField"],value:String,editMode:Boolean,postUid:String},setup:function(e){var t=function(t){return e.postUid?Object(u["a"])(e.postUid,e.field,t,e.value):Object(s["a"])(e.field,t,e.value)};return Object(o["a"])(Object(o["a"])({},Object(i["n"])(e)),{},{updateProfileValue:s["a"],updateFn:t})}};d.render=a;t["a"]=d},d7e0:function(e,t,r){"use strict";r("498a"),r("96cf");var n=r("1da1"),a=r("526b"),o=r("73cd"),i=Object(o["a"])({animation:"appear",theme:"default",dismiss:2e3}),c=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r,n){var o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!n||r.trim()!==n.trim()){e.next=3;break}return console.log("profile field unchanged",{field:t}),e.abrupt("return");case 3:return o=a["a"].currentUser,c=a["c"].doc(null===o||void 0===o?void 0:o.uid),e.next=7,c.update(t,r.trim());case 7:i.success("Profile updated ✔️");case 8:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}();t["a"]=c},dbb4:function(e,t,r){var n=r("23e7"),a=r("83ab"),o=r("56ef"),i=r("fc6a"),c=r("06cf"),s=r("8418");n({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(e){var t,r,n=i(e),a=c.f,u=o(n),d={},l=0;while(u.length>l)r=a(n,t=u[l++]),void 0!==r&&s(d,t,r);return d}})},e439:function(e,t,r){var n=r("23e7"),a=r("d039"),o=r("fc6a"),i=r("06cf").f,c=r("83ab"),s=a((function(){i(1)})),u=!c||s;n({target:"Object",stat:!0,forced:u,sham:!c},{getOwnPropertyDescriptor:function(e,t){return i(o(e),t)}})}}]);
//# sourceMappingURL=Post~Profile.b7e7629b.js.map