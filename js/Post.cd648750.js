(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Post"],{"37d3":function(e,t,c){"use strict";c.r(t);c("a4d3"),c("e01a"),c("99af");var o=c("5c40"),n=c("830f"),r={key:0,class:"row align-items-center p-2"},i=Object(o["l"])("h4",null,[Object(o["l"])("i",{class:"fa fa-pencil mr-1"})],-1),l={for:"editPostModeCheckbox",class:"el-switch"},d=Object(o["l"])("span",{class:"el-switch-style"},null,-1),a={key:0,style:{margin:"15px"}},s={class:"row"},u={class:"col-sm-4"},b={class:"col-3 post-profile-img"},p={class:"pl-1 col-9"},O={class:"col-3 post-profile-img"},j={class:"pl-1 col-9"},v={class:"mt-4 text-justify"},f={class:"col-sm-8"};function m(e,t){var c=Object(o["A"])("EditableTextInput"),m=Object(o["A"])("ContentCard");return Object(o["u"])(),Object(o["g"])("div",{class:"container p-3",style:"background-color: ".concat(e.userData.bgColor,"; color: ").concat(e.invertedHex,";")},[e.isOwnProfile?(Object(o["u"])(),Object(o["g"])("div",r,[i,Object(o["l"])("label",l,[Object(o["H"])(Object(o["l"])("input",{type:"checkbox",name:"switch","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.editMode=t}),id:"editPostModeCheckbox"},null,512),[[n["b"],e.editMode]]),d])])):Object(o["h"])("",!0),e.editMode||e.contentCard.title?(Object(o["u"])(),Object(o["g"])("div",a,[Object(o["l"])("h1",null,[Object(o["l"])(c,{field:"title",value:e.contentCard.title,editMode:e.editMode,postUid:e.postUid,class:"post-title hidden-sm center"},null,8,["value","editMode","postUid"])])])):Object(o["h"])("",!0),Object(o["l"])("hr",{style:"background-color: ".concat(e.invertedHex,";"),class:"mb-5 mt-3"},null,4),Object(o["l"])("div",s,[Object(o["l"])("div",u,[Object(o["H"])(Object(o["l"])("a",{class:"row",href:"/#/u/".concat(e.userUid),style:"color: ".concat(e.invertedHex,"; text-decoration: none;")},[Object(o["l"])("div",b,[Object(o["l"])("img",{src:e.userData.photoURL,style:"border: solid 2px; ".concat(e.invertedHex,";")},null,12,["src"])]),Object(o["l"])("div",p,[Object(o["l"])("h4",null,Object(o["D"])(e.userData.displayName),1)])],12,["href"]),[[n["d"],!e.editMode]]),Object(o["H"])(Object(o["l"])("div",{class:"row",style:"color: ".concat(e.invertedHex,";")},[Object(o["l"])("div",O,[Object(o["l"])("img",{src:e.userData.photoURL,style:"border: solid 2px; ".concat(e.invertedHex,";")},null,12,["src"])]),Object(o["l"])("div",j,[Object(o["l"])("h4",null,Object(o["D"])(e.userData.displayName),1)])],4),[[n["d"],e.editMode]]),Object(o["l"])("div",v,[Object(o["l"])(c,{field:"description",value:e.contentCard.description,editMode:e.editMode,postUid:e.postUid,class:"justify"},null,8,["value","editMode","postUid"])])]),Object(o["l"])("div",f,[Object(o["l"])(m,{contentCard:e.contentCard,editMode:e.editMode,userUid:e.userUid,postUid:e.postUid,isCardPreview:!1,onDelete:e.onDelete},null,8,["contentCard","editMode","userUid","postUid","onDelete"])])])],4)}c("d3b7"),c("ac1f"),c("3ca3"),c("5319"),c("ddb0");var h=c("5530"),g=c("3835"),x=(c("96cf"),c("1da1")),U=c("526b"),w=c("afbc"),y=c("a1e9"),C=c("2a05"),M=c("d574"),D=c("73ec"),k={components:{ContentCard:C["a"],EditableTextInput:M["a"]},props:{userUid:String,postUid:String},setup:function(e){return Object(x["a"])(regeneratorRuntime.mark((function t(){var c,n,r,i,l,d,a,s,u,b,p,O,j;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=(null===U["a"]||void 0===U["a"]||null===(c=U["a"].currentUser)||void 0===c?void 0:c.uid)===e.userUid,r=Object(U["b"])(e.userUid).doc(e.postUid),i=U["c"].doc(e.userUid),t.next=5,Promise.all([r.get(),i.get()]);case 5:if(l=t.sent,d=Object(g["a"])(l,2),a=d[0],s=d[1],(null===a||void 0===a?void 0:a.exists)&&(null===s||void 0===s?void 0:s.exists)){t.next=13;break}return console.log("Post or user not found, TODO 404"),w["a"].replace("/404"),t.abrupt("return");case 13:return u=a.data(),b=s.data(),p=Object(y["g"])({isOwnProfile:n,contentCard:u,userData:b,editMode:!1}),n&&r.onSnapshot(function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:p.contentCard=t.data();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),O=Object(o["f"])((function(){return Object(D["c"])(b.bgColor)})),j=function(){confirm("⚠️ Are you sure?")&&(r.delete(),w["a"].replace("/"))},t.abrupt("return",Object(h["a"])(Object(h["a"])({},Object(y["n"])(p)),{},{invertedHex:O,onDelete:j}));case 20:case"end":return t.stop()}}),t)})))()}};c("d4ec");k.render=m;t["default"]=k},"49a2":function(e,t,c){},d4ec:function(e,t,c){"use strict";c("49a2")}}]);
//# sourceMappingURL=Post.cd648750.js.map