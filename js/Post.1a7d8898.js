(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Post"],{"37d3":function(e,t,n){"use strict";n.r(t);n("a4d3"),n("e01a"),n("99af");var c=n("5c40"),r=n("830f"),i={key:0,class:"row align-items-center p-2"},o=Object(c["l"])("h4",null,[Object(c["l"])("i",{class:"fa fa-pencil mr-1"})],-1),l={for:"editPostModeCheckbox",class:"el-switch"},a=Object(c["l"])("span",{class:"el-switch-style"},null,-1),d={key:0,style:{margin:"15px"}},s={class:"row"},u={class:"col-sm-4"},b={class:"col-3 post-profile-img"},p={class:"pl-1 col-9"},O={class:"col-3 post-profile-img"},v={class:"pl-1 col-9"},j={class:"mt-4 text-justify"},f={class:"col-sm-8"};function h(e,t){var n=Object(c["A"])("usePatchMeta"),h=Object(c["A"])("EditableTextInput"),m=Object(c["A"])("ContentCard");return Object(c["u"])(),Object(c["g"])(c["b"],null,[Object(c["l"])(n,{title:e.contentCard.title,description:e.contentCard.description,previewUrl:e.previewUrl},null,8,["title","description","previewUrl"]),Object(c["l"])("div",{class:"container p-3",style:"background-color: ".concat(e.userData.bgColor,"; color: ").concat(e.invertedHex,";")},[e.isOwnProfile?(Object(c["u"])(),Object(c["g"])("div",i,[o,Object(c["l"])("label",l,[Object(c["H"])(Object(c["l"])("input",{type:"checkbox",name:"switch","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.editMode=t}),id:"editPostModeCheckbox"},null,512),[[r["b"],e.editMode]]),a])])):Object(c["h"])("",!0),e.editMode||e.contentCard.title?(Object(c["u"])(),Object(c["g"])("div",d,[Object(c["l"])("h1",null,[Object(c["l"])(h,{field:"title",value:e.contentCard.title,editMode:e.editMode,postUid:e.postUid,class:"post-title hidden-sm center"},null,8,["value","editMode","postUid"])])])):Object(c["h"])("",!0),Object(c["l"])("hr",{style:"background-color: ".concat(e.invertedHex,";"),class:"mb-5 mt-3"},null,4),Object(c["l"])("div",s,[Object(c["l"])("div",u,[Object(c["H"])(Object(c["l"])("a",{class:"row",href:"/#/u/".concat(e.userUid),style:"color: ".concat(e.invertedHex,"; text-decoration: none;")},[Object(c["l"])("div",b,[Object(c["l"])("img",{src:e.userData.photoURL,style:"border: solid 2px; ".concat(e.invertedHex,";")},null,12,["src"])]),Object(c["l"])("div",p,[Object(c["l"])("h4",null,Object(c["D"])(e.userData.displayName),1)])],12,["href"]),[[r["d"],!e.editMode]]),Object(c["H"])(Object(c["l"])("div",{class:"row",style:"color: ".concat(e.invertedHex,";")},[Object(c["l"])("div",O,[Object(c["l"])("img",{src:e.userData.photoURL,style:"border: solid 2px; ".concat(e.invertedHex,";")},null,12,["src"])]),Object(c["l"])("div",v,[Object(c["l"])("h4",null,Object(c["D"])(e.userData.displayName),1)])],4),[[r["d"],e.editMode]]),Object(c["l"])("div",j,[Object(c["l"])(h,{field:"description",value:e.contentCard.description,editMode:e.editMode,postUid:e.postUid,class:"justify"},null,8,["value","editMode","postUid"])])]),Object(c["l"])("div",f,[Object(c["l"])(m,{contentCard:e.contentCard,editMode:e.editMode,userUid:e.userUid,postUid:e.postUid,isCardPreview:!1,onDelete:e.onDelete},null,8,["contentCard","editMode","userUid","postUid","onDelete"])])])],4)],64)}n("d3b7"),n("ac1f"),n("3ca3"),n("5319"),n("ddb0");var m=n("5530"),w=n("3835"),U=(n("96cf"),n("1da1")),x=n("526b"),g=n("afbc"),C=n("a1e9"),M=n("2a05"),y=n("d574"),k=n("73ec"),D=n("b7cb"),H=n("5869"),P={components:{ContentCard:M["a"],EditableTextInput:y["a"],usePatchMeta:H["a"]},props:{userUid:String,postUid:String},setup:function(e){return Object(U["a"])(regeneratorRuntime.mark((function t(){var n,r,i,o,l,a,d,s,u,b,p,O,v,j;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=(null===x["a"]||void 0===x["a"]||null===(n=x["a"].currentUser)||void 0===n?void 0:n.uid)===e.userUid,i=Object(x["b"])(e.userUid).doc(e.postUid),o=x["c"].doc(e.userUid),t.next=5,Promise.all([i.get(),o.get()]);case 5:if(l=t.sent,a=Object(w["a"])(l,2),d=a[0],s=a[1],(null===d||void 0===d?void 0:d.exists)&&(null===s||void 0===s?void 0:s.exists)){t.next=13;break}return console.log("Post or user not found, TODO 404"),g["a"].replace("/404"),t.abrupt("return");case 13:return u=d.data(),b=s.data(),p=Object(C["g"])({isOwnProfile:r,contentCard:u,userData:b,editMode:!1}),r&&i.onSnapshot(function(){var e=Object(U["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.data(),n){e.next=3;break}return e.abrupt("return");case 3:p.contentCard=t.data();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),O=(null===b||void 0===b?void 0:b.previewVideo)||(null===b||void 0===b?void 0:b.previewImage)||(null===b||void 0===b?void 0:b.iFrameUrl),v=Object(c["f"])((function(){return Object(k["c"])(b.bgColor)})),j=function(){var t=Object(U["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(D["a"])(e.postUid,null===p||void 0===p||null===(n=p.contentCard)||void 0===n?void 0:n.hostedFileName);case 2:if(!t.sent){t.next=4;break}g["a"].replace("/");case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.abrupt("return",Object(m["a"])(Object(m["a"])({},Object(C["n"])(p)),{},{invertedHex:v,onDelete:j,previewUrl:O}));case 21:case"end":return t.stop()}}),t)})))()}};n("d4ec");P.render=h;t["default"]=P},"49a2":function(e,t,n){},d4ec:function(e,t,n){"use strict";n("49a2")}}]);
//# sourceMappingURL=Post.1a7d8898.js.map